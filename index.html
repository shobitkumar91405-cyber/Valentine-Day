<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Promise Day üíñ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body, html { width: 100%; height: 100%; overflow: hidden; font-family: 'Segoe UI', sans-serif; }

        /* Animated Romantic Background */
        #main-canvas {
            width: 100%; height: 100%;
            background: linear-gradient(45deg, #ffafbd, #ffc3a0, #ee9ca7, #c9ffbf, #a1887f);
            background-size: 400% 400%;
            animation: skyFlow 20s ease infinite;
            position: relative;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        @keyframes skyFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Twinkling Stars */
        .star { position: absolute; background: white; border-radius: 50%; opacity: 0.8; animation: twinkle 3s infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; transform: scale(1); } 50% { opacity: 1; transform: scale(1.2); } }

        /* Garden Elements */
        .garden { position: absolute; bottom: 0; width: 100%; height: 40%; pointer-events: none; z-index: 5; }
        .tree { position: absolute; bottom: -10px; transform-origin: bottom; animation: sway 6s infinite ease-in-out; }
        @keyframes sway { 0%, 100% { transform: rotate(-1deg); } 50% { transform: rotate(1deg); } }

        /* Birds */
        .bird { position: absolute; width: 35px; z-index: 10; transition: all 3s ease-in; }
        .bird svg { fill: #2e7d32; filter: drop-shadow(0 0 5px rgba(0,0,0,0.2)); }

        /* UI Elements */
        .header { position: absolute; top: 8%; text-align: center; color: white; z-index: 20; width: 100%; }
        .header h1 { font-size: 2.2rem; text-shadow: 0 0 15px rgba(255,255,255,0.7); }
        .header p { font-size: 0.9rem; opacity: 0.9; margin-top: 5px; }

        .container { z-index: 25; width: 85%; max-width: 380px; display: flex; flex-direction: column; gap: 15px; }
        
        .card {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px; padding: 22px; color: white;
            text-align: center; font-size: 1.1rem; font-weight: 500;
            cursor: pointer; transition: 0.4s; box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .card.selected { background: rgba(255, 255, 255, 0.45); border-color: white; transform: scale(1.05); box-shadow: 0 0 25px white; }
        .card.fade { opacity: 0.2; transform: scale(0.9); }

        /* Confirmation Screen */
        #screen2 {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: none; flex-direction: column; align-items: center; justify-content: center;
            background: rgba(0,0,0,0.1); z-index: 100; opacity: 0; transition: 1s;
        }
        .msg-box { background: rgba(255,255,255,0.15); backdrop-filter: blur(20px); border-radius: 30px; padding: 40px 20px; width: 85%; text-align: center; color: white; border: 1px solid rgba(255,255,255,0.3); }
        .final-p { font-size: 1.4rem; font-weight: bold; margin: 25px 0; display: block; }

        /* Hearts */
        .heart { position: absolute; color: #ff4d6d; pointer-events: none; z-index: 15; animation: float 4s linear forwards; }
        @keyframes float { 0% { transform: translateY(0) scale(0); opacity: 0; } 10% { opacity: 1; } 100% { transform: translateY(-100vh) scale(1.5); opacity: 0; } }
    </style>
</head>
<body onclick="playMusic()">

    <audio id="music" loop><source src="tere-liye.mp3" type="audio/mpeg"></audio>

    <div id="main-canvas">
        <div class="header" id="h-text">
            <h1>Happy Promise Day üíñ</h1>
            <p>Made by Sivasingh ü•Ä | @smss1708</p>
        </div>

        <div class="container" id="card-box">
            <div class="card" onclick="step(this, '1Ô∏è‚É£ Always Stay With You ü§ç')">1Ô∏è‚É£ Always Stay With You ü§ç</div>
            <div class="card" onclick="step(this, '2Ô∏è‚É£ Never Hurt You üíû')">2Ô∏è‚É£ Never Hurt You üíû</div>
            <div class="card" onclick="step(this, '3Ô∏è‚É£ Choose You Every Day üå∏')">3Ô∏è‚É£ Choose You Every Day üå∏</div>
            <div class="card" onclick="step(this, '4Ô∏è‚É£ Love You Forever ü´∂')">4Ô∏è‚É£ Love You Forever ü´∂</div>
        </div>

        <div id="screen2">
            <div class="msg-box">
                <p>You chose this promise from your heart üíñ</p>
                <span class="final-p" id="result"></span>
                <p>Take a screenshot<br>and send it to me<br>so I can always remember<br>what you promised ü´∞</p>
            </div>
        </div>

        <div class="garden" id="garden"></div>
    </div>

    <script>
        let musicOn = false;
        function playMusic() {
            if(!musicOn) { 
                let m = document.getElementById('music');
                m.volume = 0.35; m.play(); musicOn = true; 
            }
        }

        // Generate Background Magic
        function setup() {
            const canvas = document.getElementById('main-canvas');
            for(let i=0; i<60; i++) {
                let s = document.createElement('div');
                s.className = 'star';
                let size = Math.random() * 3 + 1;
                s.style.width = size+'px'; s.style.height = size+'px';
                s.style.top = Math.random()*70+'%'; s.style.left = Math.random()*100+'%';
                s.style.animationDelay = Math.random()*3+'s';
                canvas.appendChild(s);
            }
            
            const garden = document.getElementById('garden');
            const treeData = [5, 25, 50, 75, 90];
            treeData.forEach(pos => {
                let t = document.createElement('div');
                t.className = 'tree';
                t.style.left = pos + '%';
                let h = 150 + Math.random()*80;
                t.innerHTML = `<svg width="${h/2}" height="${h}" viewBox="0 0 100 200"><path d="M50 200 L50 120" stroke="#4a2e2a" stroke-width="8"/><circle cx="50" cy="80" r="50" fill="#2e7d32" opacity="0.8"/><circle cx="30" cy="70" r="40" fill="#388e3c" opacity="0.8"/><circle cx="70" cy="70" r="40" fill="#388e3c" opacity="0.8"/></svg>`;
                garden.appendChild(t);
                
                let b = document.createElement('div');
                b.className = 'bird'; b.style.left = (pos+2)+'%'; b.style.bottom = (h*0.4)+'px';
                b.innerHTML = `<svg viewBox="0 0 24 24"><path d="M21,5c-1.11-1.11-2.59-1.32-3-1.3c-0.4,0.02-1.89,0.24-3,1.3c-1.11,1.11-1.32,2.59-1.3,3c0.02,0.4,0.24,1.89,1.3,3c1.11,1.11,2.59,1.32,3,1.3c0.4-0.02,1.89-0.24,3-1.3c1.11-1.11,1.32-2.59,1.3-3C22.28,7.59,22.06,6.11,21,5z"/></svg>`;
                garden.appendChild(b);
            });
        }

        function hearts() {
            setInterval(() => {
                let h = document.createElement('div');
                h.className = 'heart'; h.innerHTML = 'üíñ';
                h.style.left = Math.random()*100+'vw'; h.style.bottom = '-5vh';
                h.style.fontSize = (Math.random()*20+15)+'px';
                document.body.appendChild(h);
                setTimeout(() => h.remove(), 4000);
            }, 600);
        }

        function step(el, val) {
            const cards = document.querySelectorAll('.card');
            cards.forEach(c => { if(c!==el) c.classList.add('fade'); });
            el.classList.add('selected');

            document.querySelectorAll('.bird').forEach(b => {
                b.style.transform = `translate(${Math.random()*500-250}px, -100vh) scale(1.5)`;
                b.style.opacity = '0';
            });

            setTimeout(() => {
                document.getElementById('card-box').style.opacity = '0';
                document.getElementById('h-text').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('card-box').style.display = 'none';
                    let s2 = document.getElementById('screen2');
                    s2.style.display = 'flex';
                    document.getElementById('result').innerText = val;
                    setTimeout(() => s2.style.opacity = '1', 100);
                }, 800);
            }, 1200);
        }

        window.onload = () => { setup(); hearts(); };
    </script>
</body>
</html>
